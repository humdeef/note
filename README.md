# note
1.登入 简单的用户名和密码登录  用户名和秘密+时间戳 生成token，以token为key,User为value放到redis里面，用string类型的就可以了。如果没有找到就去数据库里面查找，返回token无效，如果当用户再次登入的时候，输入的正确的用户名和密码，就生成一个新的token放到redis里面。有效期暂定两个小时。
2.聊天 建表  一天为分区。  借助融云
3.银行卡信息对接  


付款页面：
注：隐藏本次活动，意味着别人这次在酒吧伙伴中搜索不到
你，也不能发起拼桌活动？酒吧伙伴？

购物车：
转发？

后台如何给前台推送数据？
方案：融云
聊天系统？
方案：融云

待使用的订单？

app如何附近的人？
方案：用户打开app，上传经纬度，通过经纬度+-2，这样就可以大致获取附近的人。

支付宝支付
用户打开app，然后ios或Android调用支付宝client，支付成功，（同步通知不管）会有一个异步通知给到后台服务器，后台服务器在这个接口检查是否支付成功的状态，更改订单状态，最后out.print("success")输出"success"，支付宝服务器确认通知成功！



1用户表 
Id，用户编号，用户type（商家还是普通用户），用户二级id，二级type（支付宝，微信登录），用户姓名，昵称，用户手机号，性别，年龄，类型（普通用户，商家，暖场人）
2位置表
Id，经度，纬度，类型（店铺还是用户），sourceid，位置名称，具体位置名称

3商铺表
Id，商铺名，用户id（一般都是商家的id），位置id，在约用户id，分数，套餐id，，电话

4.活动表
Id，商铺id，活动标题，内容，时间，地址，图片id，开始时间，结束时间

5 图片表
id，图片名称，图片地址，图片大小，图片格式，type（普通用户，暖场人，商铺，活动），sourceId

6 视频表
Id，视频名称，视频大小，视频格式，type ，userid，视频地址

7座位类型表
Id，商铺id，座位类型（vip，卡座等），座位金额


8套餐表
Id，商铺id，套餐名，套餐金额，商品id，个数，注意事项，购买须知，原价，套餐价


9.商品表
Id，商品类型（酒水。。。），商品名，图片id（图片地址），价格，库存数量

10暖场人表
Id，暖场人昵称，签名，性别，年龄，价格，商铺id ，今日心情，简介，最近动态表id，状态（未预定，已预订）

11 最近动态表
Id，时间，类型（暖场人，普通用户），内容，图片

12 商品商铺表
Id  商铺id，商品id

12购物车表（购物车，这些商品可以从购物车中删除）
Id，用户id，商品id，数量，订购时间


12购买详情表（确定已经购买了）
Id，用户id，商品id，数量


13 预订单表
Id，订单编号（特定算法生成），总金额，类型（1,2,3），sourceid（如果是1代表酒吧座位id，如果是2代表ktv包厢id，3代表邀约id），套餐id，商铺id，用户id，购买详情表id，暖场人ids，邀约人ids，人数量（包括暖场人和普通邀约的人数总和），付款类型（支付宝，微信等），订单状态（未支付，未响应，被商家忽略，已响应，待评论，，已取消，已结束），隐藏本次活动，订单创建时间

14包厢表
Id，商铺id，包厢位置(401室)，名字（大包，小包，中包等），容纳人数，

15 拼桌表
Id，拼桌编号，发起人id，截止时间，商铺id（哪个酒吧？），座位类型id,报名人数，拼车要求，已报名人数，活动备注，活动须知，需求类型，创建时间

16 用户拼桌表
Id，用户id，商铺id，拼桌id,创建时间。

17 评论表
Id，用户id，商家id，订单id，评论内容，评分

18 邀约表（rp中待完善）
Id,用户id，商铺id，邀约开始时间，邀约结束时间，邀约限制。。。。

19 邀约关系表
Id，邀约id，邀约ids。




